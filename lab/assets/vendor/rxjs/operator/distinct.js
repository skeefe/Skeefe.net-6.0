"use strict";function distinct(t,r){return this.lift(new DistinctOperator(t,r))}var __extends=this&&this.__extends||function(t,r){function e(){this.constructor=t}for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i]);t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)},OuterSubscriber_1=require("../OuterSubscriber"),subscribeToResult_1=require("../util/subscribeToResult");exports.distinct=distinct;var DistinctOperator=function(){function t(t,r){this.compare=t,this.flushes=r}return t.prototype.call=function(t,r){return r._subscribe(new DistinctSubscriber(t,this.compare,this.flushes))},t}(),DistinctSubscriber=function(t){function r(r,e,i){t.call(this,r),this.values=[],"function"==typeof e&&(this.compare=e),i&&this.add(subscribeToResult_1.subscribeToResult(this,i))}return __extends(r,t),r.prototype.notifyNext=function(t,r,e,i,s){this.values.length=0},r.prototype.notifyError=function(t,r){this._error(t)},r.prototype._next=function(t){var r=!1,e=this.values,i=e.length;try{for(var s=0;s<i;s++)if(this.compare(e[s],t))return void(r=!0)}catch(t){return void this.destination.error(t)}this.values.push(t),this.destination.next(t)},r.prototype.compare=function(t,r){return t===r},r}(OuterSubscriber_1.OuterSubscriber);exports.DistinctSubscriber=DistinctSubscriber;