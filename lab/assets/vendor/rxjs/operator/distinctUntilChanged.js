"use strict";function distinctUntilChanged(t,e){return this.lift(new DistinctUntilChangedOperator(t,e))}var __extends=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},Subscriber_1=require("../Subscriber"),tryCatch_1=require("../util/tryCatch"),errorObject_1=require("../util/errorObject");exports.distinctUntilChanged=distinctUntilChanged;var DistinctUntilChangedOperator=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e._subscribe(new DistinctUntilChangedSubscriber(t,this.compare,this.keySelector))},t}(),DistinctUntilChangedSubscriber=function(t){function e(e,r,i){t.call(this,e),this.keySelector=i,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return __extends(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=this.keySelector,r=t;if(e&&(r=tryCatch_1.tryCatch(this.keySelector)(t),r===errorObject_1.errorObject))return this.destination.error(errorObject_1.errorObject.e);var i=!1;if(this.hasKey){if(i=tryCatch_1.tryCatch(this.compare)(this.key,r),i===errorObject_1.errorObject)return this.destination.error(errorObject_1.errorObject.e)}else this.hasKey=!0;Boolean(i)===!1&&(this.key=r,this.destination.next(t))},e}(Subscriber_1.Subscriber);