"use strict";function subscribeToResult(e,r,o,i){var s=new InnerSubscriber_1.InnerSubscriber(e,o,i);if(s.closed)return null;if(r instanceof Observable_1.Observable)return r._isScalar?(s.next(r.value),s.complete(),null):r.subscribe(s);if(isArray_1.isArray(r)){for(var n=0,t=r.length;n<t&&!s.closed;n++)s.next(r[n]);s.closed||s.complete()}else{if(isPromise_1.isPromise(r))return r.then(function(e){s.closed||(s.next(e),s.complete())},function(e){return s.error(e)}).then(null,function(e){root_1.root.setTimeout(function(){throw e})}),s;if("function"==typeof r[iterator_1.$$iterator])for(var b=r[iterator_1.$$iterator]();;){var u=b.next();if(u.done){s.complete();break}if(s.next(u.value),s.closed)break}else if("function"==typeof r[observable_1.$$observable]){var l=r[observable_1.$$observable]();if("function"==typeof l.subscribe)return l.subscribe(new InnerSubscriber_1.InnerSubscriber(e,o,i));s.error(new Error("invalid observable"))}else s.error(new TypeError("unknown type returned"))}return null}var root_1=require("./root"),isArray_1=require("./isArray"),isPromise_1=require("./isPromise"),Observable_1=require("../Observable"),iterator_1=require("../symbol/iterator"),InnerSubscriber_1=require("../InnerSubscriber"),observable_1=require("../symbol/observable");exports.subscribeToResult=subscribeToResult;