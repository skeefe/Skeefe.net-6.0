"use strict";var __extends=this&&this.__extends||function(e,r){function i(){this.constructor=e}for(var s in r)r.hasOwnProperty(s)&&(e[s]=r[s]);e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)},isNumeric_1=require("../util/isNumeric"),Observable_1=require("../Observable"),async_1=require("../scheduler/async"),isScheduler_1=require("../util/isScheduler"),isDate_1=require("../util/isDate"),TimerObservable=function(e){function r(r,i,s){void 0===r&&(r=0),e.call(this),this.period=-1,this.dueTime=0,isNumeric_1.isNumeric(i)?this.period=Number(i)<1&&1||Number(i):isScheduler_1.isScheduler(i)&&(s=i),isScheduler_1.isScheduler(s)||(s=async_1.async),this.scheduler=s,this.dueTime=isDate_1.isDate(r)?+r-this.scheduler.now():r}return __extends(r,e),r.create=function(e,i,s){return void 0===e&&(e=0),new r(e,i,s)},r.dispatch=function(e){var r=e.index,i=e.period,s=e.subscriber,t=this;if(s.next(r),!s.closed){if(i===-1)return s.complete();e.index=r+1,t.schedule(e,i)}},r.prototype._subscribe=function(e){var i=0,s=this,t=s.period,u=s.dueTime,c=s.scheduler;return c.schedule(r.dispatch,u,{index:i,period:t,subscriber:e})},r}(Observable_1.Observable);exports.TimerObservable=TimerObservable;