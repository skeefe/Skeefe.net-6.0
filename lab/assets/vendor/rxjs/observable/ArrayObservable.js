"use strict";var __extends=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var s in r)r.hasOwnProperty(s)&&(e[s]=r[s]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},Observable_1=require("../Observable"),ScalarObservable_1=require("./ScalarObservable"),EmptyObservable_1=require("./EmptyObservable"),isScheduler_1=require("../util/isScheduler"),ArrayObservable=function(e){function r(r,t){e.call(this),this.array=r,this.scheduler=t,t||1!==r.length||(this._isScalar=!0,this.value=r[0])}return __extends(r,e),r.create=function(e,t){return new r(e,t)},r.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var s=e[e.length-1];isScheduler_1.isScheduler(s)?e.pop():s=null;var a=e.length;return a>1?new r(e,s):1===a?new ScalarObservable_1.ScalarObservable(e[0],s):new EmptyObservable_1.EmptyObservable(s)},r.dispatch=function(e){var r=e.array,t=e.index,s=e.count,a=e.subscriber;return t>=s?void a.complete():(a.next(r[t]),void(a.closed||(e.index=t+1,this.schedule(e))))},r.prototype._subscribe=function(e){var t=0,s=this.array,a=s.length,n=this.scheduler;if(n)return n.schedule(r.dispatch,0,{array:s,index:t,count:a,subscriber:e});for(var l=0;l<a&&!e.closed;l++)e.next(s[l]);e.complete()},r}(Observable_1.Observable);exports.ArrayObservable=ArrayObservable;