"use strict";var __extends=this&&this.__extends||function(e,s){function r(){this.constructor=e}for(var i in s)s.hasOwnProperty(i)&&(e[i]=s[i]);e.prototype=null===s?Object.create(s):(r.prototype=s.prototype,new r)},Observable_1=require("../Observable"),Subscription_1=require("../Subscription"),SubscriptionLoggable_1=require("./SubscriptionLoggable"),applyMixins_1=require("../util/applyMixins"),ColdObservable=function(e){function s(s,r){e.call(this,function(e){var s=this,r=s.logSubscribedFrame();return e.add(new Subscription_1.Subscription(function(){s.logUnsubscribedFrame(r)})),s.scheduleMessages(e),e}),this.messages=s,this.subscriptions=[],this.scheduler=r}return __extends(s,e),s.prototype.scheduleMessages=function(e){for(var s=this.messages.length,r=0;r<s;r++){var i=this.messages[r];e.add(this.scheduler.schedule(function(e){var s=e.message,r=e.subscriber;s.notification.observe(r)},i.frame,{message:i,subscriber:e}))}},s}(Observable_1.Observable);exports.ColdObservable=ColdObservable,applyMixins_1.applyMixins(ColdObservable,[SubscriptionLoggable_1.SubscriptionLoggable]);