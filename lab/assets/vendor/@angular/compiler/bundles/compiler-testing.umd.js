!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/compiler"),require("@angular/core/testing")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/compiler","@angular/core/testing"],t):t((e.ng=e.ng||{},e.ng.compiler=e.ng.compiler||{},e.ng.compiler.testing=e.ng.compiler.testing||{}),e.ng.core,e.ng.compiler,e.ng.core.testing)}(this,function(e,t,r,n){"use strict";function o(e){return void 0!==e&&null!==e}function i(e){return void 0===e||null===e}function c(e){return Array.isArray(e)}function s(e){if("string"==typeof e)return e;if(void 0===e||null===e)return""+e;if(e.overriddenName)return e.overriddenName;if(e.name)return e.name;var t=e.toString(),r=t.indexOf("\n");return r===-1?t:t.substring(0,r)}function u(e,t){if(o(e))for(var r=0;r<e.length;r++){var n=e[r];c(n)?u(n,t):t.push(n)}return t}function a(e,t,r){var n=new Set,o=function(e){var o=t[e];o instanceof Array?o.forEach(function(t){n.add(f(e,t,r))}):n.add(f(e,o,r))};for(var i in t)o(i);var c=function(t){var o=e[t];o instanceof Array?e[t]=o.filter(function(e){return!n.has(f(t,e,r))}):n.has(f(t,o,r))&&(e[t]=void 0)};for(var i in e)c(i)}function l(e,t){for(var r in t){var n=t[r],o=e[r];null!=o&&o instanceof Array?e[r]=o.concat(n):e[r]=n}}function p(e,t){for(var r in t)e[r]=t[r]}function f(e,t,r){var n=function(e,t){return"function"==typeof t&&(t=v(t,r)),t};return e+":"+JSON.stringify(t,n)}function v(e,t){var r=t.get(e);return r||(r=""+s(e)+j++,t.set(e,r)),r}function d(e){var t=[];Object.keys(e).forEach(function(e){e.startsWith("_")||t.push(e)});for(var r=e;r=Object.getPrototypeOf(r);)Object.keys(r).forEach(function(e){var n=Object.getOwnPropertyDescriptor(r,e);!e.startsWith("_")&&n&&"get"in n&&t.push(e)});return t}var h,m=function(){function e(e,t,r){this.existingProperties=e,this.attrPropMapping=t,this.existingElements=r}return e.prototype.hasProperty=function(e,t,r){var n=this.existingProperties[t];return void 0===n||n},e.prototype.hasElement=function(e,t){var r=this.existingElements[e.toLowerCase()];return void 0===r||r},e.prototype.securityContext=function(e,r){return t.SecurityContext.NONE},e.prototype.getMappedPropName=function(e){return this.attrPropMapping[e]||e},e.prototype.getDefaultComponentElementName=function(){return"ng-component"},e}();h="undefined"==typeof window?"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:global:window;var y=h;y.assert=function(e){};var g=(function(){function e(){}return e.toFixed=function(e,t){return e.toFixed(t)},e.equal=function(e,t){return e===t},e.parseIntAutoRadix=function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t},e.parseInt=function(e,t){if(10==t){if(/^(\-|\+)?[0-9]+$/.test(e))return parseInt(e,t)}else if(16==t){if(/^(\-|\+)?[0-9ABCDEFabcdef]+$/.test(e))return parseInt(e,t)}else{var r=parseInt(e,t);if(!isNaN(r))return r}throw new Error("Invalid integer literal when parsing "+e+" in base "+t)},Object.defineProperty(e,"NaN",{get:function(){return NaN},enumerable:!0,configurable:!0}),e.isNumeric=function(e){return!isNaN(e-parseFloat(e))},e.isNaN=function(e){return isNaN(e)},e.isInteger=function(e){return Number.isInteger(e)},e}(),y.Map),_=y.Set,w=(function(){try{if(1===new g([[1,2]]).size)return function(e){return new g(e)}}catch(e){}return function(e){for(var t=new g,r=0;r<e.length;r++){var n=e[r];t.set(n[0],n[1])}return t}}(),function(){try{if(new g(new g))return function(e){return new g(e)}}catch(e){}return function(e){var t=new g;return e.forEach(function(e,r){t.set(r,e)}),t}}(),function(){return(new g).keys().next?function(e){for(var t,r=e.keys();!(t=r.next()).done;)e.set(t.value,null)}:function(e){e.forEach(function(t,r){e.set(r,null)})}}(),function(){try{if((new g).values().next)return function(e,t){return t?Array.from(e.values()):Array.from(e.keys())}}catch(e){}return function(e,t){var r=w.createFixedSize(e.size),n=0;return e.forEach(function(e,o){r[n]=t?e:o,n++}),r}}(),function(){function e(){}return e.createFixedSize=function(e){return new Array(e)},e.createGrowableSize=function(e){return new Array(e)},e.clone=function(e){return e.slice(0)},e.forEachWithIndex=function(e,t){for(var r=0;r<e.length;r++)t(e[r],r)},e.first=function(e){return e?e[0]:null},e.last=function(e){return e&&0!=e.length?e[e.length-1]:null},e.indexOf=function(e,t,r){return void 0===r&&(r=0),e.indexOf(t,r)},e.contains=function(e,t){return e.indexOf(t)!==-1},e.reversed=function(t){var r=e.clone(t);return r.reverse()},e.concat=function(e,t){return e.concat(t)},e.insert=function(e,t,r){e.splice(t,0,r)},e.removeAt=function(e,t){var r=e[t];return e.splice(t,1),r},e.removeAll=function(e,t){for(var r=0;r<t.length;++r){var n=e.indexOf(t[r]);e.splice(n,1)}},e.remove=function(e,t){var r=e.indexOf(t);return r>-1&&(e.splice(r,1),!0)},e.clear=function(e){e.length=0},e.isEmpty=function(e){return 0==e.length},e.fill=function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=null),e.fill(t,r,null===n?e.length:n)},e.equals=function(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0},e.slice=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=null),e.slice(t,null===r?void 0:r)},e.splice=function(e,t,r){return e.splice(t,r)},e.sort=function(e,t){o(t)?e.sort(t):e.sort()},e.toString=function(e){return e.toString()},e.toJSON=function(e){return JSON.stringify(e)},e.maximum=function(e,t){if(0==e.length)return null;for(var r=null,n=-(1/0),o=0;o<e.length;o++){var c=e[o];if(!i(c)){var s=t(c);s>n&&(r=c,n=s)}}return r},e.flatten=function(e){var t=[];return u(e,t),t},e.addAll=function(e,t){for(var r=0;r<t.length;r++)e.push(t[r])},e}()),C=(function(){var e=new _([1,2,3]);return 3===e.size?function(e){return new _(e)}:function(e){var t=new _(e);if(t.size!==e.length)for(var r=0;r<e.length;r++)t.add(e[r]);return t}}(),this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),P=function(e){function r(t){e.call(this),this._injector=t,this._directives=new g,this._providerOverrides=new g,this._viewProviderOverrides=new g,this._views=new g,this._inlineTemplates=new g,this._animations=new g}return C(r,e),Object.defineProperty(r.prototype,"_compiler",{get:function(){return this._injector.get(t.Compiler)},enumerable:!0,configurable:!0}),r.prototype._clearCacheFor=function(e){this._compiler.clearCacheFor(e)},r.prototype.resolve=function(r,n){void 0===n&&(n=!0);var i=this._directives.get(r);if(i||(i=e.prototype.resolve.call(this,r,n)),!i)return null;var c=this._providerOverrides.get(r),s=this._viewProviderOverrides.get(r),u=i.providers;if(o(c)){var a=o(i.providers)?i.providers:[];u=a.concat(c)}if(i instanceof t.Component){var l=i.viewProviders;if(o(s)){var a=o(i.viewProviders)?i.viewProviders:[];l=a.concat(s)}var p=this._views.get(r);p||(p=i);var f=p.animations,v=p.templateUrl,d=this._animations.get(r);o(d)&&(f=d);var h=this._inlineTemplates.get(r);return o(h)?v=null:h=p.template,new t.Component({selector:i.selector,inputs:i.inputs,outputs:i.outputs,host:i.host,exportAs:i.exportAs,moduleId:i.moduleId,queries:i.queries,changeDetection:i.changeDetection,providers:u,viewProviders:l,entryComponents:i.entryComponents,template:h,templateUrl:v,animations:f,styles:p.styles,styleUrls:p.styleUrls,encapsulation:p.encapsulation,interpolation:p.interpolation})}return new t.Directive({selector:i.selector,inputs:i.inputs,outputs:i.outputs,host:i.host,providers:u,exportAs:i.exportAs,queries:i.queries})},r.prototype.setDirective=function(e,t){this._directives.set(e,t),this._clearCacheFor(e)},r.prototype.setProvidersOverride=function(e,t){this._providerOverrides.set(e,t),this._clearCacheFor(e)},r.prototype.setViewProvidersOverride=function(e,t){this._viewProviderOverrides.set(e,t),this._clearCacheFor(e)},r.prototype.setView=function(e,t){this._views.set(e,t),this._clearCacheFor(e)},r.prototype.setInlineTemplate=function(e,t){this._inlineTemplates.set(e,t),this._clearCacheFor(e)},r.prototype.setAnimations=function(e,t){this._animations.set(e,t),this._clearCacheFor(e)},r.decorators=[{type:t.Injectable}],r.ctorParameters=[{type:t.Injector}],r}(r.DirectiveResolver),O=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},b=function(e){function r(t){e.call(this),this._injector=t,this._ngModules=new g}return O(r,e),Object.defineProperty(r.prototype,"_compiler",{get:function(){return this._injector.get(t.Compiler)},enumerable:!0,configurable:!0}),r.prototype._clearCacheFor=function(e){this._compiler.clearCacheFor(e)},r.prototype.setNgModule=function(e,t){this._ngModules.set(e,t),this._clearCacheFor(e)},r.prototype.resolve=function(t,r){void 0===r&&(r=!0);var n=this._ngModules.get(t);return n||(n=e.prototype.resolve.call(this,t,r)),n},r.decorators=[{type:t.Injectable}],r.ctorParameters=[{type:t.Injector}],r}(r.NgModuleResolver),x=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},M=function(e){function r(t){e.call(this),this._injector=t,this._pipes=new g}return x(r,e),Object.defineProperty(r.prototype,"_compiler",{get:function(){return this._injector.get(t.Compiler)},enumerable:!0,configurable:!0}),r.prototype._clearCacheFor=function(e){this._compiler.clearCacheFor(e)},r.prototype.setPipe=function(e,t){this._pipes.set(e,t),this._clearCacheFor(e)},r.prototype.resolve=function(t,r){void 0===r&&(r=!0);var n=this._pipes.get(t);return n||(n=e.prototype.resolve.call(this,t,r)),n},r.decorators=[{type:t.Injectable}],r.ctorParameters=[{type:t.Injector}],r}(r.PipeResolver),N=n.__core_private_testing__.TestingCompilerFactory,j=0,A=function(){function e(){this._references=new Map}return e.prototype.overrideMetadata=function(e,t,r){var n={};if(t&&d(t).forEach(function(e){return n[e]=t[e]}),r.set){if(r.remove||r.add)throw new Error("Cannot set and add/remove "+s(e)+" at the same time!");p(n,r.set)}return r.remove&&a(n,r.remove,this._references),r.add&&l(n,r.add),new e(n)},e}(),F=function(){function e(e){this._compilerFactory=e}return e.prototype.createTestingCompiler=function(e){var t=this._compilerFactory.createCompiler(e);return new I(t,t.injector.get(P),t.injector.get(M),t.injector.get(b))},e.decorators=[{type:t.Injectable}],e.ctorParameters=[{type:t.CompilerFactory}],e}(),I=function(){function e(e,t,r,n){this._compiler=e,this._directiveResolver=t,this._pipeResolver=r,this._moduleResolver=n,this._overrider=new A}return Object.defineProperty(e.prototype,"injector",{get:function(){return this._compiler.injector},enumerable:!0,configurable:!0}),e.prototype.compileModuleSync=function(e){return this._compiler.compileModuleSync(e)},e.prototype.compileModuleAsync=function(e){return this._compiler.compileModuleAsync(e)},e.prototype.compileModuleAndAllComponentsSync=function(e){return this._compiler.compileModuleAndAllComponentsSync(e)},e.prototype.compileModuleAndAllComponentsAsync=function(e){return this._compiler.compileModuleAndAllComponentsAsync(e)},e.prototype.overrideModule=function(e,r){var n=this._moduleResolver.resolve(e,!1);this._moduleResolver.setNgModule(e,this._overrider.overrideMetadata(t.NgModule,n,r))},e.prototype.overrideDirective=function(e,r){var n=this._directiveResolver.resolve(e,!1);this._directiveResolver.setDirective(e,this._overrider.overrideMetadata(t.Directive,n,r))},e.prototype.overrideComponent=function(e,r){var n=this._directiveResolver.resolve(e,!1);this._directiveResolver.setDirective(e,this._overrider.overrideMetadata(t.Component,n,r))},e.prototype.overridePipe=function(e,r){var n=this._pipeResolver.resolve(e,!1);this._pipeResolver.setPipe(e,this._overrider.overrideMetadata(t.Pipe,n,r))},e.prototype.clearCache=function(){this._compiler.clearCache()},e.prototype.clearCacheFor=function(e){this._compiler.clearCacheFor(e)},e}(),R=t.createPlatformFactory(r.platformCoreDynamic,"coreDynamicTesting",[{provide:t.COMPILER_OPTIONS,useValue:{providers:[M,{provide:r.PipeResolver,useExisting:M},P,{provide:r.DirectiveResolver,useExisting:P},b,{provide:r.NgModuleResolver,useExisting:b}]},multi:!0},{provide:N,useClass:F}]);e.TestingCompilerFactoryImpl=F,e.TestingCompilerImpl=I,e.platformCoreDynamicTesting=R,e.MockSchemaRegistry=m,e.MockDirectiveResolver=P,e.MockNgModuleResolver=b,e.MockPipeResolver=M});