!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(this,function(){"use strict";function e(e,t){for(var n=e.length-1;n>=0;n--)"function"==typeof e[n]&&(e[n]=Zone.current.wrap(e[n],t+"_"+n));return e}function t(e,t,n,r,o){var i=e[d];if(i)for(var a=0;a<i.length;a++){var s=i[a],u=s.data;if(u.handler===t&&u.useCapturing===r&&u.eventName===n)return o&&i.splice(a,1),s}return null}function n(e,t){var n=e[d];n||(n=e[d]=[]),n.push(t)}function r(e,r,o,i){function a(e){var t=e.data;return n(t.target,e),t.target[u](t.eventName,e.invoke,t.useCapturing)}function s(e){var n=e.data;t(n.target,e.invoke,n.eventName,n.useCapturing,!0),n.target[c](n.eventName,e.invoke,n.useCapturing)}void 0===o&&(o=!0),void 0===i&&(i=!1);var u=h(e),c=h(r),l=!o&&void 0;return function(n,r){var o=r[0],c=r[1],h=r[2]||l,d=n||f,p=null;"function"==typeof c?p=c:c&&c.handleEvent&&(p=function(e){return c.handleEvent(e)});var k=!1;try{k=c&&"[object FunctionWrapper]"===c.toString()}catch(e){return}if(!p||k)return d[u](o,c,h);if(!i){var v=t(d,c,o,h,!1);if(v)return d[u](o,v.invoke,h)}var y=Zone.current,_=d.constructor.name+"."+e+":"+o,g={target:d,eventName:o,name:o,useCapturing:h,handler:c};y.scheduleEventTask(_,p,g,a,s)}}function o(e,n){void 0===n&&(n=!0);var r=h(e),o=!n&&void 0;return function(e,n){var i=n[0],a=n[1],s=n[2]||o,u=e||f,c=t(u,a,i,s,!0);c?c.zone.cancelTask(c):u[r](i,a,s)}}function i(e){return h(e),function(e,t){var n=t[0],r=e||f;return r[d]?r[d].filter(function(e){return e.data.eventName===n}).map(function(e){return e.data.handler}):[]}}function a(e,t){try{return Function("f","return function "+e+"(){return f(this, arguments)}")(t)}catch(e){return function(){return t(this,arguments)}}}function s(e,t,n){for(var r=e;r&&Object.getOwnPropertyNames(r).indexOf(t)===-1;)r=Object.getPrototypeOf(r);!r&&e[t]&&(r=e);var o,i=h(t);return r&&!(o=r[i])&&(o=r[i]=r[t],r[t]=a(t,n(o,i,t))),o}function u(e){return!(!e||!e.addListener||(s(e,v,function(){return m}),s(e,y,function(){return w}),s(e,_,function(){return b}),s(e,g,function(){return Z}),e[T]=e[v],0))}function c(e,t,n,r){function o(t){var n=t.data;return n.args[0]=function(){t.invoke.apply(this,arguments),delete c[n.handleId]},n.handleId=a.apply(e,n.args),c[n.handleId]=t,t}function i(e){return delete c[e.data.handleId],u(e.data.handleId)}var a=null,u=null;t+=r,n+=r;var c={};a=s(e,t,function(n){return function(a,s){if("function"==typeof s[0]){var u=Zone.current,c={handleId:null,isPeriodic:"Interval"===r,delay:"Timeout"===r||"Interval"===r?s[1]||0:null,args:s},l=u.scheduleMacroTask(t,s[0],c,o,i);if(!l)return l;var h=l.data.handleId;return h.ref&&h.unref&&(l.ref=h.ref.bind(h),l.unref=h.unref.bind(h)),l}return n.apply(e,s)}}),u=s(e,n,function(t){return function(n,r){var o="number"==typeof r[0]?c[r[0]]:r[0];o&&"string"==typeof o.type?(o.cancelFn&&o.data.isPeriodic||0===o.runCount)&&o.zone.cancelTask(o):t.apply(e,r)}})}var l,h=(function(e){function t(e){return"__zone_symbol__"+e}function n(){0==D&&0==w.length&&(e[_]?e[_].resolve(0)[g](i):e[y](i,0))}function r(e){n(),w.push(e)}function o(e){var t=e&&e.rejection;t&&console.error("Unhandled Promise rejection:",t instanceof Error?t.message:t,"; Zone:",e.zone.name,"; Task:",e.task&&e.task.source,"; Value:",t,t instanceof Error?t.stack:void 0),console.error(e)}function i(){if(!b){for(b=!0;w.length;){var e=w;w=[];for(var t=0;t<e.length;t++){var n=e[t];try{n.zone.runTask(n,null,null)}catch(e){o(e)}}}for(;Z.length;)for(var r=function(){var e=Z.shift();try{e.zone.runGuarded(function(){throw e})}catch(e){o(e)}};Z.length;)r();b=!1}}function a(e){return e&&e.then}function s(e){return e}function u(e){return F.reject(e)}function c(e,t){return function(n){l(e,t,n)}}function l(e,t,r){if(e[S]===j)if(r instanceof F&&r[S]!==j)h(r),l(e,r[S],r[z]);else if(a(r))r.then(c(e,t),c(e,!1));else{e[S]=t;var o=e[z];e[z]=r;for(var i=0;i<o.length;)f(e,o[i++],o[i++],o[i++],o[i++]);if(0==o.length&&t==I){e[S]=C;try{throw new Error("Uncaught (in promise): "+r+(r&&r.stack?"\n"+r.stack:""))}catch(t){var s=t;s.rejection=r,s.promise=e,s.zone=p.current,s.task=p.currentTask,Z.push(s),n()}}}return e}function h(e){if(e[S]===C){e[S]=I;for(var t=0;t<Z.length;t++)if(e===Z[t].promise){Z.splice(t,1);break}}}function f(e,t,n,r,o){h(e);var i=e[S]?r||s:o||u;t.scheduleMicroTask(E,function(){try{l(n,!0,t.run(i,null,[e[z]]))}catch(e){l(n,!1,e)}})}function d(e){var n=e.prototype,r=n[t("then")]=n.then;n.then=function(e,t){var n=this;return new F(function(e,t){r.call(n,e,t)}).then(e,t)}}if(e.Zone)throw new Error("Zone already loaded.");var p=function(){function n(e,t){this._properties=null,this._parent=e,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new k(this,this._parent&&this._parent._zoneDelegate,t)}return n.assertZonePatched=function(){if(e.Promise!==F)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")},Object.defineProperty(n,"current",{get:function(){return T},enumerable:!0,configurable:!0}),Object.defineProperty(n,"currentTask",{get:function(){return m},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),n.prototype.get=function(e){var t=this.getZoneWith(e);if(t)return t._properties[e]},n.prototype.getZoneWith=function(e){for(var t=this;t;){if(t._properties.hasOwnProperty(e))return t;t=t._parent}return null},n.prototype.fork=function(e){if(!e)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,e)},n.prototype.wrap=function(e,t){if("function"!=typeof e)throw new Error("Expecting function got: "+e);var n=this._zoneDelegate.intercept(this,e,t),r=this;return function(){return r.runGuarded(n,this,arguments,t)}},n.prototype.run=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null);var o=T;T=this;try{return this._zoneDelegate.invoke(this,e,t,n,r)}finally{T=o}},n.prototype.runGuarded=function(e,t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null);var o=T;T=this;try{try{return this._zoneDelegate.invoke(this,e,t,n,r)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{T=o}},n.prototype.runTask=function(e,t,n){if(e.runCount++,e.zone!=this)throw new Error("A task can only be run in the zone which created it! (Creation: "+e.zone.name+"; Execution: "+this.name+")");var r=m;m=e;var o=T;T=this;try{"macroTask"==e.type&&e.data&&!e.data.isPeriodic&&(e.cancelFn=null);try{return this._zoneDelegate.invokeTask(this,e,t,n)}catch(e){if(this._zoneDelegate.handleError(this,e))throw e}}finally{T=o,m=r}},n.prototype.scheduleMicroTask=function(e,t,n,r){return this._zoneDelegate.scheduleTask(this,new v("microTask",this,e,t,n,r,null))},n.prototype.scheduleMacroTask=function(e,t,n,r,o){return this._zoneDelegate.scheduleTask(this,new v("macroTask",this,e,t,n,r,o))},n.prototype.scheduleEventTask=function(e,t,n,r,o){return this._zoneDelegate.scheduleTask(this,new v("eventTask",this,e,t,n,r,o))},n.prototype.cancelTask=function(e){var t=this._zoneDelegate.cancelTask(this,e);return e.runCount=-1,e.cancelFn=null,t},n.__symbol__=t,n}(),k=function(){function e(e,t,n){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=e,this._parentDelegate=t,this._forkZS=n&&(n&&n.onFork?n:t._forkZS),this._forkDlgt=n&&(n.onFork?t:t._forkDlgt),this._interceptZS=n&&(n.onIntercept?n:t._interceptZS),this._interceptDlgt=n&&(n.onIntercept?t:t._interceptDlgt),this._invokeZS=n&&(n.onInvoke?n:t._invokeZS),this._invokeDlgt=n&&(n.onInvoke?t:t._invokeDlgt),this._handleErrorZS=n&&(n.onHandleError?n:t._handleErrorZS),this._handleErrorDlgt=n&&(n.onHandleError?t:t._handleErrorDlgt),this._scheduleTaskZS=n&&(n.onScheduleTask?n:t._scheduleTaskZS),this._scheduleTaskDlgt=n&&(n.onScheduleTask?t:t._scheduleTaskDlgt),this._invokeTaskZS=n&&(n.onInvokeTask?n:t._invokeTaskZS),this._invokeTaskDlgt=n&&(n.onInvokeTask?t:t._invokeTaskDlgt),this._cancelTaskZS=n&&(n.onCancelTask?n:t._cancelTaskZS),this._cancelTaskDlgt=n&&(n.onCancelTask?t:t._cancelTaskDlgt),this._hasTaskZS=n&&(n.onHasTask?n:t._hasTaskZS),this._hasTaskDlgt=n&&(n.onHasTask?t:t._hasTaskDlgt)}return e.prototype.fork=function(e,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,e,t):new p(e,t)},e.prototype.intercept=function(e,t,n){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this.zone,e,t,n):t},e.prototype.invoke=function(e,t,n,r,o){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this.zone,e,t,n,r,o):t.apply(n,r)},e.prototype.handleError=function(e,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this.zone,e,t)},e.prototype.scheduleTask=function(e,t){try{if(this._scheduleTaskZS)return this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this.zone,e,t);if(t.scheduleFn)t.scheduleFn(t);else{if("microTask"!=t.type)throw new Error("Task is missing scheduleFn.");r(t)}return t}finally{e==this.zone&&this._updateTaskCount(t.type,1)}},e.prototype.invokeTask=function(e,t,n,r){try{return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this.zone,e,t,n,r):t.callback.apply(n,r)}finally{e!=this.zone||"eventTask"==t.type||t.data&&t.data.isPeriodic||this._updateTaskCount(t.type,-1)}},e.prototype.cancelTask=function(e,t){var n;if(this._cancelTaskZS)n=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this.zone,e,t);else{if(!t.cancelFn)throw new Error("Task does not support cancellation, or is already canceled.");n=t.cancelFn(t)}return e==this.zone&&this._updateTaskCount(t.type,-1),n},e.prototype.hasTask=function(e,t){return this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this.zone,e,t)},e.prototype._updateTaskCount=function(e,t){var n=this._taskCounts,r=n[e],o=n[e]=r+t;if(o<0)throw new Error("More tasks executed then were scheduled.");if(0==r||0==o){var i={microTask:n.microTask>0,macroTask:n.macroTask>0,eventTask:n.eventTask>0,change:e};try{this.hasTask(this.zone,i)}finally{this._parentDelegate&&this._parentDelegate._updateTaskCount(e,t)}}},e}(),v=function(){function e(e,t,n,r,o,a,s){this.runCount=0,this.type=e,this.zone=t,this.source=n,this.data=o,this.scheduleFn=a,this.cancelFn=s,this.callback=r;var u=this;this.invoke=function(){D++;try{return t.runTask(u,this,arguments)}finally{1==D&&i(),D--}}}return e.prototype.toString=function(){return this.data&&"undefined"!=typeof this.data.handleId?this.data.handleId:Object.prototype.toString.call(this)},e}(),y=t("setTimeout"),_=t("Promise"),g=t("then"),T=new p(null,null),m=null,w=[],b=!1,Z=[],D=0,S=t("state"),z=t("value"),E="Promise.then",j=null,P=!0,I=!1,C=0,F=function(){function e(t){var n=this;if(!(n instanceof e))throw new Error("Must be an instanceof Promise.");n[S]=j,n[z]=[];try{t&&t(c(n,P),c(n,I))}catch(e){l(n,!1,e)}}return e.resolve=function(e){return l(new this(null),P,e)},e.reject=function(e){return l(new this(null),I,e)},e.race=function(e){function t(e){i&&(i=r(e))}function n(e){i&&(i=o(e))}for(var r,o,i=new this(function(e,t){n=[e,t],r=n[0],o=n[1];var n}),s=0,u=e;s<u.length;s++){var c=u[s];a(c)||(c=this.resolve(c)),c.then(t,n)}return i},e.all=function(e){for(var t,n,r=new this(function(e,r){t=e,n=r}),o=0,i=[],s=0,u=e;s<u.length;s++){var c=u[s];a(c)||(c=this.resolve(c)),c.then(function(e){return function(n){i[e]=n,o--,o||t(i)}}(o),n),o++}return o||t(i),r},e.prototype.then=function(e,t){var n=new this.constructor(null),r=p.current;return this[S]==j?this[z].push(r,n,e,t):f(this,r,n,e,t),n},e.prototype.catch=function(e){return this.then(null,e)},e}();F.resolve=F.resolve,F.reject=F.reject,F.race=F.race,F.all=F.all;var O=e[t("Promise")]=e.Promise;if(e.Promise=F,O&&(d(O),"undefined"!=typeof e.fetch)){var q=void 0;try{q=e.fetch()}catch(t){q=e.fetch("about:blank")}q.then(function(){return null},function(){return null}),q.constructor!=O&&q.constructor!=F&&d(q.constructor)}return Promise[p.__symbol__("uncaughtPromiseErrors")]=Z,e.Zone=p}("object"==typeof window&&window||"object"==typeof self&&self||global),Zone.__symbol__),f="object"==typeof window&&window||"object"==typeof self&&self||global,d=("undefined"!=typeof process&&"[object process]"==={}.toString.call(process),h("eventTasks")),p="addEventListener",k="removeEventListener",v=(r(p,k),o(k),h("originalInstance"),"addListener"),y="prependListener",_="removeListener",g="listeners",T="on",m=r(v,_,!1,!0),w=r(y,_,!1,!0),b=o(_,!1),Z=i(g);try{l=require("events")}catch(e){}l&&l.EventEmitter&&u(l.EventEmitter.prototype);var D;try{D=require("fs")}catch(e){}var S=["access","appendFile","chmod","chown","close","exists","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","read","readdir","readFile","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","write","writeFile"];D&&S.filter(function(e){return!!D[e]&&"function"==typeof D[e]}).forEach(function(t){D[t]=function(n){return function(){return n.apply(this,e(arguments,"fs."+t))}}(D[t])});var z="set",E="clear",j="object"==typeof window&&window||"object"==typeof self&&self||global,P=require("timers");c(P,z,E,"Timeout"),c(P,z,E,"Interval"),c(P,z,E,"Immediate");var I=global.setTimeout!==P.setTimeout;I&&(c(j,z,E,"Timeout"),c(j,z,E,"Interval"),c(j,z,E,"Immediate"));var C;try{C=require("crypto")}catch(e){}if(C){var F=C.randomBytes;C.randomBytes=function(e,t){if(t){var n=Zone.current,r=C.constructor.name+".randomBytes";return F(e,n.wrap(t,r))}return F(e)}.bind(C);var O=C.pbkdf2;C.pbkdf2=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e[e.length-1];if("function"==typeof n){var r=Zone.current,o=C.constructor.name+".pbkdf2";return e[e.length-1]=r.wrap(n,o),O.apply(void 0,e)}return O.apply(void 0,e)}.bind(C)}var q;try{q=require("_http_client")}catch(e){}if(q&&q.ClientRequest){var M=q.ClientRequest.bind(q);q.ClientRequest=function(e,t){if(t){var n=Zone.current;return new M(e,n.wrap(t,"http.ClientRequest"))}return new M(e)}}});